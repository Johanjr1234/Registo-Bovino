<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario Ganadero</title>
    <style>
        body { font-family: sans-serif; padding: 15px; background-color: #f4f4f9; max-width: 800px; margin: auto; }
        
        /* NAV SUPERIOR */
        .nav-menu { display: flex; gap: 10px; margin-bottom: 15px; }
        .nav-btn { flex: 1; padding: 12px; text-align: center; background: #fff; color: #333; border-radius: 8px; font-weight: bold; border: 1px solid #ddd; text-decoration: none; }
        .nav-btn.active { background: #2e7d32; color: white; border: none; }

        /* FILTROS (PESTA√ëAS) */
        .filtros { display: flex; gap: 5px; margin-bottom: 15px; background: #e0e0e0; padding: 5px; border-radius: 8px; }
        .btn-filtro { flex: 1; padding: 10px; border: none; background: transparent; cursor: pointer; font-weight: bold; color: #666; border-radius: 5px; }
        .btn-filtro.seleccionado { background: white; color: #2e7d32; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

        /* TARJETAS */
        .animal-card { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 10px; background-color: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        .animal-header { display: flex; align-items: center; cursor: pointer; gap: 12px; }
        
        /* FOTOS */
        .cow-thumb { width: 55px; height: 55px; border-radius: 50%; object-fit: cover; border: 2px solid #2e7d32; }
        .no-thumb { width: 55px; height: 55px; border-radius: 50%; background: #eee; display: flex; align-items: center; justify-content: center; font-size: 24px; border: 2px solid #ddd; }

        /* INFO TEXTO */
        .info-resumen { flex: 1; }
        .nombre-animal { font-weight: 800; font-size: 1.1em; color: #333; display: block; }
        .raza-animal { font-size: 0.9em; color: #666; }
        .age-badge { background-color: #f0ad4e; color: white; padding: 3px 8px; border-radius: 12px; font-size: 0.75em; font-weight: bold; white-space: nowrap; }
        .sold-badge { background-color: #d32f2f; color: white; padding: 3px 8px; border-radius: 12px; font-size: 0.75em; font-weight: bold; }

        /* DETALLES DESPLEGABLES */
        .animal-details { display: none; padding-top: 15px; border-top: 1px dashed #eee; margin-top: 10px; }
        .foto-grande { max-width: 100%; border-radius: 8px; margin: 10px auto; display: block; }
        
        /* √ÅRBOL GENEAL√ìGICO */
        .offspring-container { background-color: #f1f8e9; border: 1px solid #c5e1a5; border-radius: 8px; padding: 10px; margin-top: 10px; }
        .offspring-title { font-size: 0.9em; font-weight: bold; color: #33691e; margin-bottom: 5px; display: block; }
        .mini-cria { display: flex; align-items: center; gap: 8px; padding: 5px; background: white; border-radius: 5px; margin-bottom: 5px; border: 1px solid #eee; }
        .mini-thumb { width: 30px; height: 30px; border-radius: 50%; object-fit: cover; }

        /* BOTONES DE ACCI√ìN */
        .acciones { display: flex; gap: 10px; margin-top: 15px; }
        .btn-accion { flex: 1; padding: 10px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; color: white; font-size: 0.9em; }
        .btn-vender { background-color: #f57f17; } /* Naranja */
        .btn-editar { background-color: #1976d2; } /* Azul */
        .btn-eliminar { background-color: #d32f2f; } /* Rojo */

    </style>
</head>
<body>
    <nav class="nav-menu">
        <a href="index.html" class="nav-btn">üìù Registro</a>
        <a href="inventario.html" class="nav-btn active">üìã Inventario</a>
    </nav>

    <div class="filtros">
        <button id="btn-finca" class="btn-filtro seleccionado" onclick="cambiarFiltro(false)">üêÆ En Finca</button>
        <button id="btn-historial" class="btn-filtro" onclick="cambiarFiltro(true)">üí∞ Historial Ventas</button>
    </div>

    <div id="inventario-listado">
        <p style="text-align: center;">Cargando...</p>
    </div>

    <script type="module" src="app.js"></script>
    
    <script>
        function cambiarFiltro(verHistorial) {
            document.getElementById('btn-finca').className = verHistorial ? 'btn-filtro' : 'btn-filtro seleccionado';
            document.getElementById('btn-historial').className = verHistorial ? 'btn-filtro seleccionado' : 'btn-filtro';
            window.cargarInventario(verHistorial); // Llamamos a la funci√≥n de app.js
        }
    </script>
</body>
</html>
